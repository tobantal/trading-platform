# ğŸ—ï¸ Trading Platform â€” Roadmap v5.0

## ĞšÑƒÑ€Ñ: Microservice Architecture (OTUS)
## Ğ”Ğ°Ñ‚Ğ°: 16 Ğ´ĞµĞºĞ°Ğ±Ñ€Ñ 2025

---

# ğŸ“… ĞšĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ Ğ´Ğ°Ñ‚Ñ‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            TIMELINE                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  14.12 âœ…         21.12              28.12              3.01                â”‚
â”‚    â”‚               â”‚                  â”‚                  â”‚                  â”‚
â”‚    â–¼               â–¼                  â–¼                  â–¼                  â”‚
â”‚ HelloWorld      MVP               Education          Ğ’Ğ˜Ğ”Ğ•Ğ                 â”‚
â”‚  DONE!        Ğ´ĞµĞ´Ğ»Ğ°Ğ¹Ğ½             Ğ´ĞµĞ´Ğ»Ğ°Ğ¹Ğ½           Ğ·Ğ°Ñ‰Ğ¸Ñ‚Ğ°                 â”‚
â”‚                                                                             â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•              â”‚
â”‚  â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘              â”‚
â”‚  HelloWorld â”‚     MVP (5 Ğ´Ğ½ĞµĞ¹)     â”‚  Education (6 Ğ´Ğ½ĞµĞ¹)  â”‚               â”‚
â”‚    done     â”‚                      â”‚                      â”‚               â”‚
â”‚                                                                             â”‚
â”‚  Ğ¡ĞµĞ³Ğ¾Ğ´Ğ½Ñ: 16.12 (Ğ¿Ğ½) â€” ĞĞĞ§ĞĞ›Ğ MVP                                          â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# ğŸ¯ 4 ÑÑ‚Ğ°Ğ¿Ğ° Ñ€Ğ°Ğ·Ğ²Ğ¸Ñ‚Ğ¸Ñ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ HELLOWORLD  â”‚â”€â”€â”€â–¶â”‚    MVP      â”‚â”€â”€â”€â–¶â”‚  EDUCATION  â”‚â”€â”€â”€â–¶â”‚ PRODUCTION  â”‚
â”‚    âœ… DONE  â”‚    â”‚  Ğ’ Ğ ĞĞ‘ĞĞ¢Ğ•   â”‚    â”‚    ĞŸĞ›ĞĞ     â”‚    â”‚   FUTURE    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚                  â”‚                  â”‚                  â”‚
      â–¼                  â–¼                  â–¼                  â–¼
 Ğ˜Ğ½Ñ„Ñ€Ğ°ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°    Ğ‘Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞ°     ĞœĞ¸ĞºÑ€Ğ¾ÑĞµÑ€Ğ²Ğ¸ÑÑ‹      Ğ ĞµĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ API
 Docker Compose    Fake Tinkoff      Service Split     Tinkoff gRPC
 FetchContent      PostgreSQL        RabbitMQ          Kubernetes
 Prometheus        JWT Auth          API Gateway
                   SMA Strategy      ZITADEL
```

---

# âœ… Ğ­Ñ‚Ğ°Ğ¿ 1: HelloWorld (Ğ’Ğ«ĞŸĞĞ›ĞĞ•Ğ)

## Ğ§Ñ‚Ğ¾ ÑĞ´ĞµĞ»Ğ°Ğ½Ğ¾

| ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ | Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|-----------|:------:|----------|
| Docker Compose | âœ… | backend, nginx, postgres, prometheus |
| FetchContent | âœ… | cpp-http-server, cpp-cache |
| REST API | âœ… | /health, /metrics, /echo |
| Boost.DI | âœ… | Handlers Ñ‡ĞµÑ€ĞµĞ· DI |
| Web UI | âœ… | index.html |

## Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚

```bash
docker compose up -d
curl http://localhost:8080/api/v1/health  # âœ… Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚
curl http://localhost:8080/metrics        # âœ… Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚
open http://localhost:3001                # âœ… Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚
```

---

# ğŸš€ Ğ­Ñ‚Ğ°Ğ¿ 2: MVP (16-21 Ğ´ĞµĞºĞ°Ğ±Ñ€Ñ)

## Ğ¦ĞµĞ»ÑŒ

Ğ Ğ°Ğ±Ğ¾Ñ‡Ğ¸Ğ¹ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚ Ñ Ğ³ĞµĞºÑĞ°Ğ³Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾Ğ¹ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ¾Ğ¹, Fake Tinkoff API Ğ¸ Ğ¾Ğ´Ğ½Ğ¾Ğ¹ Ñ‚Ğ¾Ñ€Ğ³Ğ¾Ğ²Ğ¾Ğ¹ ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸ĞµĞ¹.

## ĞŸĞ»Ğ°Ğ½ Ğ¿Ğ¾ Ğ´Ğ½ÑĞ¼

### Ğ”ĞµĞ½ÑŒ 1 (Ğ¿Ğ½ 16.12): Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° + Domain + Ports

**Ğ—Ğ°Ğ´Ğ°Ñ‡Ğ¸:**
```
â–¡ Ğ¡ĞºĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ hello-world â†’ mvp
â–¡ Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñƒ Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ğ¹ (ports/, domain/, adapters/, etc.)
â–¡ Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ domain entities:
  â””â”€ Money.hpp, Account.hpp, Order.hpp, Quote.hpp
  â””â”€ Position.hpp, Strategy.hpp, Signal.hpp
  â””â”€ Events.hpp (DomainEvent, OrderCreatedEvent, etc.)
â–¡ Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Input Ports:
  â””â”€ IAuthService.hpp, IMarketService.hpp, IOrderService.hpp
  â””â”€ IPortfolioService.hpp, IStrategyService.hpp, IAccountService.hpp
â–¡ Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Output Ports:
  â””â”€ IBrokerGateway.hpp, IUserRepository.hpp, IOrderRepository.hpp
  â””â”€ IStrategyRepository.hpp, IJwtProvider.hpp, ICache.hpp, IEventBus.hpp
â–¡ Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ ThreadSafeMap.hpp (Ğ¸Ğ· ĞºÑƒÑ€ÑĞ° "ĞŸĞ°Ñ‚Ñ‚ĞµÑ€Ğ½Ñ‹")
```

**Deliverable:** ĞšĞ¾Ğ¼Ğ¿Ğ¸Ğ»Ğ¸Ñ€ÑƒĞµÑ‚ÑÑ, ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ°.

---

### Ğ”ĞµĞ½ÑŒ 2 (Ğ²Ñ‚ 17.12): Adapters â€” Secondary (Output)

**Ğ—Ğ°Ğ´Ğ°Ñ‡Ğ¸:**
```
â–¡ FakeTinkoffAdapter (IBrokerGateway):
  â””â”€ 5 Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ² (SBER, LKOH, GAZP, VTBR, YNDX)
  â””â”€ getQuote() â€” Ğ±Ğ°Ğ·Ğ¾Ğ²Ğ°Ñ Ñ†ĞµĞ½Ğ° Â± 5%
  â””â”€ getPortfolio() â€” in-memory Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ğ¸
  â””â”€ placeOrder() â€” ÑĞ¸Ğ¼ÑƒĞ»ÑÑ†Ğ¸Ñ Ğ¸ÑĞ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ñ
â–¡ InMemoryEventBus (IEventBus):
  â””â”€ ThreadSafeMap Ğ´Ğ»Ñ subscribers
  â””â”€ publish(), subscribe(), unsubscribe()
â–¡ FakeJwtAdapter (IJwtProvider):
  â””â”€ HTTP ĞºĞ»Ğ¸ĞµĞ½Ñ‚ Ğº fake-jwt-server
  â””â”€ createToken(), validateToken()
â–¡ LruCacheAdapter (ICache):
  â””â”€ ĞĞ±Ñ‘Ñ€Ñ‚ĞºĞ° Ğ½Ğ°Ğ´ cpp-cache
```

**Deliverable:** Ğ’ÑĞµ secondary adapters ĞºĞ¾Ğ¼Ğ¿Ğ¸Ğ»Ğ¸Ñ€ÑƒÑÑ‚ÑÑ Ğ¸ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ÑÑ‚ Ğ°Ğ²Ñ‚Ğ¾Ğ½Ğ¾Ğ¼Ğ½Ğ¾.

---

### Ğ”ĞµĞ½ÑŒ 3 (ÑÑ€ 18.12): Application Services + PostgreSQL

**Ğ—Ğ°Ğ´Ğ°Ñ‡Ğ¸:**
```
â–¡ SQL Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸:
  â””â”€ 001_reference_tables.sql (ÑĞ¿Ñ€Ğ°Ğ²Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ¸)
  â””â”€ 002_main_tables.sql (users, accounts, orders, strategies, signals)
â–¡ PostgreSQL Repositories:
  â””â”€ PostgresUserRepository
  â””â”€ PostgresAccountRepository
  â””â”€ PostgresOrderRepository
  â””â”€ PostgresStrategyRepository
â–¡ Application Services:
  â””â”€ AuthService
  â””â”€ MarketService
  â””â”€ OrderService
  â””â”€ PortfolioService
  â””â”€ AccountService
```

**Deliverable:** Ğ¡ĞµÑ€Ğ²Ğ¸ÑÑ‹ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ÑÑ‚ Ñ Ğ‘Ğ”.

---

### Ğ”ĞµĞ½ÑŒ 4 (Ñ‡Ñ‚ 19.12): Controllers + Strategy

**Ğ—Ğ°Ğ´Ğ°Ñ‡Ğ¸:**
```
â–¡ Primary Adapters (Controllers):
  â””â”€ AuthController (POST /auth/login)
  â””â”€ MarketController (GET /quotes, GET /instruments)
  â””â”€ OrderController (POST /orders, DELETE /orders/{id})
  â””â”€ PortfolioController (GET /portfolio)
  â””â”€ StrategyController (POST/GET /strategies, POST /{id}/start)
  â””â”€ HealthController, MetricsController (ÑƒĞ¶Ğµ ĞµÑÑ‚ÑŒ, Ğ°Ğ´Ğ°Ğ¿Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ)
â–¡ TradingApp:
  â””â”€ DI ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ Ğ´Ğ»Ñ Ğ²ÑĞµÑ… ÑĞµÑ€Ğ²Ğ¸ÑĞ¾Ğ²
  â””â”€ Ğ ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ²ÑĞµÑ… routes
â–¡ SMA Strategy:
  â””â”€ SmaStrategy.hpp/cpp
  â””â”€ StrategyRunner â€” Ğ·Ğ°Ğ¿ÑƒÑĞº/Ğ¾ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ°
```

**Deliverable:** Ğ’ÑĞµ endpoints Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ÑÑ‚.

---

### Ğ”ĞµĞ½ÑŒ 5 (Ğ¿Ñ‚ 20.12): UI + Docker + Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

**Ğ—Ğ°Ğ´Ğ°Ñ‡Ğ¸:**
```
â–¡ Web UI (html/):
  â””â”€ Ğ›Ğ¾Ğ³Ğ¸Ğ½ Ñ„Ğ¾Ñ€Ğ¼Ğ°
  â””â”€ ĞŸĞ¾Ñ€Ñ‚Ñ„ĞµĞ»ÑŒ (Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ° Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ğ¹)
  â””â”€ ĞšĞ¾Ñ‚Ğ¸Ñ€Ğ¾Ğ²ĞºĞ¸ (Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ°)
  â””â”€ Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ¾Ñ€Ğ´ĞµÑ€Ğ°
  â””â”€ Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ğ¹
â–¡ Docker Compose:
  â””â”€ Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ fake-jwt-server
  â””â”€ Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ volume Ğ´Ğ»Ñ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¹
  â””â”€ Health checks Ğ´Ğ»Ñ Ğ²ÑĞµÑ… ÑĞµÑ€Ğ²Ğ¸ÑĞ¾Ğ²
â–¡ Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ:
  â””â”€ curl ÑĞºÑ€Ğ¸Ğ¿Ñ‚Ñ‹ (demo.sh)
  â””â”€ ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ²ÑĞµÑ… ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸ĞµĞ²
â–¡ Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ:
  â””â”€ README.md Ğ´Ğ»Ñ MVP
```

**Deliverable:** `docker compose up -d` â†’ Ğ²ÑÑ‘ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚.

---

### Ğ”ĞµĞ½ÑŒ 6 (ÑĞ± 21.12): Ğ‘ÑƒÑ„ĞµÑ€ + Ğ¤Ğ¸Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ

**Ğ—Ğ°Ğ´Ğ°Ñ‡Ğ¸:**
```
â–¡ Ğ˜ÑĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ±Ğ°Ğ³Ğ¾Ğ²
â–¡ Ğ ĞµÑ„Ğ°ĞºÑ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³ (ĞµÑĞ»Ğ¸ Ğ½ÑƒĞ¶Ğ½Ğ¾)
â–¡ Ğ”Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ñ‚ĞµÑÑ‚Ñ‹
â–¡ C4 Ğ´Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼Ñ‹ (ĞµÑĞ»Ğ¸ ÑƒÑĞ¿ĞµĞ²Ğ°ĞµĞ¼)
```

**Deliverable:** MVP Ğ³Ğ¾Ñ‚Ğ¾Ğ² Ğº Ğ´ĞµĞ¼Ğ¾Ğ½ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ğ¸.

---

## MVP Checklist

### Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ñ‚Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ

| # | Ğ¢Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ | ĞŸÑ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚ | Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ |
|---|------------|:---------:|:------:|
| 1 | POST /auth/login â†’ JWT Ñ‚Ğ¾ĞºĞµĞ½ | P0 | â¬œ |
| 2 | GET /portfolio â†’ Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ğ¸ + P&L | P0 | â¬œ |
| 3 | GET /quotes?figis=... â†’ ĞºĞ¾Ñ‚Ğ¸Ñ€Ğ¾Ğ²ĞºĞ¸ | P0 | â¬œ |
| 4 | POST /orders â†’ ÑĞ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ¾Ñ€Ğ´ĞµÑ€ | P0 | â¬œ |
| 5 | DELETE /orders/{id} â†’ Ğ¾Ñ‚Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ | P1 | â¬œ |
| 6 | POST /strategies â†’ ÑĞ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ SMA | P1 | â¬œ |
| 7 | POST /strategies/{id}/start â†’ Ğ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ | P1 | â¬œ |
| 8 | Web UI Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ | P1 | â¬œ |

### ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ½Ñ‹Ğµ Ñ‚Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ

| # | Ğ¢Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ | Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ |
|---|------------|:------:|
| 1 | Ğ“ĞµĞºÑĞ°Ğ³Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° | â¬œ |
| 2 | Ports & Adapters | â¬œ |
| 3 | Boost.DI | â¬œ |
| 4 | PostgreSQL + Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ | â¬œ |
| 5 | fake-jwt-server | â¬œ |
| 6 | FakeTinkoffAdapter | â¬œ |
| 7 | InMemoryEventBus | â¬œ |
| 8 | Prometheus Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ¸ | â¬œ |
| 9 | Docker Compose | â¬œ |

---

# ğŸ“š Ğ­Ñ‚Ğ°Ğ¿ 3: Education (22-28 Ğ´ĞµĞºĞ°Ğ±Ñ€Ñ)

## Ğ¦ĞµĞ»ÑŒ

Ğ”ĞµĞ¼Ğ¾Ğ½ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ¼Ğ¸ĞºÑ€Ğ¾ÑĞµÑ€Ğ²Ğ¸ÑĞ½Ñ‹Ñ… Ğ¿Ğ°Ñ‚Ñ‚ĞµÑ€Ğ½Ğ¾Ğ²: Ñ€Ğ°Ğ·Ğ´ĞµĞ»ĞµĞ½Ğ¸Ğµ Ğ½Ğ° ÑĞµÑ€Ğ²Ğ¸ÑÑ‹, API Gateway, RabbitMQ.

## ĞŸĞ»Ğ°Ğ½ Ğ¿Ğ¾ Ğ´Ğ½ÑĞ¼

### Ğ”ĞµĞ½ÑŒ 1 (Ğ¿Ğ½ 22.12): ĞŸĞ¾Ğ´Ğ³Ğ¾Ñ‚Ğ¾Ğ²ĞºĞ° + ZITADEL

```
â–¡ Ğ¡ĞºĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ mvp â†’ education
â–¡ Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ ZITADEL Ğ² docker-compose
â–¡ ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¸Ñ‚ÑŒ Realm + Application
â–¡ Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ñ‚ĞµÑÑ‚Ğ¾Ğ²Ñ‹Ñ… Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹
â–¡ Ğ—Ğ°Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ FakeJwtAdapter Ğ½Ğ° ZitadelAdapter
```

### Ğ”ĞµĞ½ÑŒ 2 (Ğ²Ñ‚ 23.12): Service Decomposition

```
â–¡ Ğ’Ñ‹Ğ´ĞµĞ»Ğ¸Ñ‚ÑŒ Market Service:
  â””â”€ IMarketService â†’ Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½Ñ‹Ğ¹ ÑĞµÑ€Ğ²Ğ¸Ñ
  â””â”€ Ğ¡Ğ²Ğ¾Ñ PostgreSQL Ğ‘Ğ” (market_db)
  â””â”€ Dockerfile + docker-compose
â–¡ Ğ’Ñ‹Ğ´ĞµĞ»Ğ¸Ñ‚ÑŒ Trading Service:
  â””â”€ IOrderService + IPortfolioService
  â””â”€ Ğ¡Ğ²Ğ¾Ñ PostgreSQL Ğ‘Ğ” (trading_db)
```

### Ğ”ĞµĞ½ÑŒ 3 (ÑÑ€ 24.12): API Gateway

```
â–¡ Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ API Gateway ÑĞµÑ€Ğ²Ğ¸Ñ:
  â””â”€ JWT validation
  â””â”€ Routing Ğ¿Ğ¾ URL path
  â””â”€ X-Trace-ID propagation
  â””â”€ Rate limiting (Ğ±Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğ¹)
â–¡ ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ nginx ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ
```

### Ğ”ĞµĞ½ÑŒ 4 (Ñ‡Ñ‚ 25.12): RabbitMQ

```
â–¡ Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ RabbitMQ Ğ² docker-compose
â–¡ Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ RabbitMqEventBus:
  â””â”€ Exchange: trading.events (topic)
  â””â”€ Queues Ğ´Ğ»Ñ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ³Ğ¾ ÑĞµÑ€Ğ²Ğ¸ÑĞ°
â–¡ Ğ—Ğ°Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ InMemoryEventBus â†’ RabbitMqEventBus
â–¡ ĞŸÑ€Ğ¾Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ Ğ¼ĞµĞ¶Ğ´Ñƒ ÑĞµÑ€Ğ²Ğ¸ÑĞ°Ğ¼Ğ¸
```

### Ğ”ĞµĞ½ÑŒ 5 (Ğ¿Ñ‚ 26.12): REST Ğ¼ĞµĞ¶Ğ´Ñƒ ÑĞµÑ€Ğ²Ğ¸ÑĞ°Ğ¼Ğ¸

```
â–¡ HttpClient Ğ´Ğ»Ñ inter-service communication
â–¡ Market Service â† Trading Service
â–¡ Circuit Breaker (Ğ±Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğ¹)
â–¡ Retry policy
```

### Ğ”ĞµĞ½ÑŒ 6 (ÑĞ± 27.12): Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ + Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ

```
â–¡ Integration tests
â–¡ demo.sh Ğ´Ğ»Ñ Education
â–¡ README.md
â–¡ C4 Ğ´Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼Ñ‹ (ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹)
```

### Ğ”ĞµĞ½ÑŒ 7 (Ğ²Ñ 28.12): Ğ¤Ğ¸Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ

```
â–¡ Ğ˜ÑĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ±Ğ°Ğ³Ğ¾Ğ²
â–¡ Ğ¤Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ°
â–¡ ĞŸĞ¾Ğ´Ğ³Ğ¾Ñ‚Ğ¾Ğ²ĞºĞ° Ğº Ğ²Ğ¸Ğ´ĞµĞ¾
```

---

## Education Checklist

### ĞœĞ¸ĞºÑ€Ğ¾ÑĞµÑ€Ğ²Ğ¸ÑĞ½Ñ‹Ğµ Ğ¿Ğ°Ñ‚Ñ‚ĞµÑ€Ğ½Ñ‹

| ĞŸĞ°Ñ‚Ñ‚ĞµÑ€Ğ½ | Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ |
|---------|:------:|
| Service Decomposition (3 ÑĞµÑ€Ğ²Ğ¸ÑĞ°) | â¬œ |
| API Gateway | â¬œ |
| Database per Service | â¬œ |
| Event-Driven (RabbitMQ) | â¬œ |
| Distributed Tracing (X-Trace-ID) | â¬œ |
| Service Discovery (Docker DNS) | â¬œ |
| Circuit Breaker | â¬œ |

### Ğ˜Ğ½Ñ„Ñ€Ğ°ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°

| ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ | Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ |
|-----------|:------:|
| ZITADEL | â¬œ |
| RabbitMQ | â¬œ |
| 3 PostgreSQL databases | â¬œ |
| Docker Compose (multi-service) | â¬œ |

---

# ğŸ¬ Ğ­Ñ‚Ğ°Ğ¿ 4: Ğ’Ğ¸Ğ´ĞµĞ¾-Ğ·Ğ°Ñ‰Ğ¸Ñ‚Ğ° (29.12 - 3.01)

## ĞŸĞ»Ğ°Ğ½

```
29.12 (Ğ¿Ğ½)  â†’ Ğ—Ğ°Ğ¿Ğ¸ÑÑŒ Ğ²Ğ¸Ğ´ĞµĞ¾ (7-10 Ğ¼Ğ¸Ğ½ÑƒÑ‚)
              â”œâ”€ Demo MVP
              â”œâ”€ Demo Education
              â”œâ”€ ĞĞ±ÑŠÑÑĞ½ĞµĞ½Ğ¸Ğµ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñ‹
              â””â”€ ĞÑ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ° Ğ´Ñ€ÑƒĞ·ÑŒÑĞ¼ Ğ½Ğ° review

30.12-2.01  â†’ ĞŸÑ€Ğ°Ğ²ĞºĞ¸ ĞµÑĞ»Ğ¸ Ğ½ÑƒĞ¶Ğ½Ğ¾

3.01 (Ğ¿Ñ‚)   â†’ Ğ¤Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ²ĞµÑ€ÑĞ¸Ñ
              â†’ Ğ¡Ğ´Ğ°Ñ‡Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°
```

## Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ²Ğ¸Ğ´ĞµĞ¾

```
0:00 - 1:00   Ğ’Ğ²ĞµĞ´ĞµĞ½Ğ¸Ğµ, Ñ†ĞµĞ»ÑŒ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°
1:00 - 3:00   Ğ”ĞµĞ¼Ğ¾ MVP (curl + UI)
3:00 - 5:00   Ğ”ĞµĞ¼Ğ¾ Education (Ğ¼Ğ¸ĞºÑ€Ğ¾ÑĞµÑ€Ğ²Ğ¸ÑÑ‹)
5:00 - 7:00   ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° (C4 Ğ´Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼Ñ‹)
7:00 - 8:00   ĞŸĞ°Ñ‚Ñ‚ĞµÑ€Ğ½Ñ‹ Ğ¸ Ğ¿Ñ€Ğ¸Ğ½ÑÑ‚Ñ‹Ğµ Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ
8:00 - 10:00  Q&A, Ğ·Ğ°ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ
```

---

# ğŸ”§ Production (Ğ¿Ğ¾ÑĞ»Ğµ ĞºÑƒÑ€ÑĞ°)

## Ğ§Ñ‚Ğ¾ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ğ¼

```
â–¡ Ğ ĞµĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Tinkoff Invest API (gRPC)
â–¡ Kubernetes deployment
â–¡ Ğ¡Ğ¾Ğ±ÑÑ‚Ğ²ĞµĞ½Ğ½Ñ‹Ğ¹ Auth Service
â–¡ Ğ”Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ğ¸ (RSI, MACD)
â–¡ Ğ‘ÑĞºÑ‚ĞµÑÑ‚Ğ¸Ğ½Ğ³
â–¡ WebSocket Ğ´Ğ»Ñ real-time ĞºĞ¾Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ¾Ğº
â–¡ Grafana dashboards
â–¡ CI/CD pipeline
```

---

# ğŸš¨ Fallback ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ñ

## Ğ•ÑĞ»Ğ¸ Ğ½Ğµ ÑƒÑĞ¿ĞµĞ²Ğ°ĞµĞ¼ MVP Ğº 21.12

```
âŒ ĞŸÑ€Ğ¾Ğ¿ÑƒÑĞºĞ°ĞµĞ¼:
  â€¢ SMA ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ñ (Ğ´ĞµĞ»Ğ°ĞµĞ¼ Ğ¿Ğ¾ÑĞ»Ğµ)
  â€¢ Web UI (Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ curl)
  â€¢ Unit Ñ‚ĞµÑÑ‚Ñ‹

âœ… ĞĞ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾:
  â€¢ REST endpoints Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ÑÑ‚
  â€¢ PostgreSQL Ñ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğ¼Ğ¸
  â€¢ Docker Compose Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°ĞµÑ‚ÑÑ
  â€¢ FakeTinkoffAdapter
  â€¢ fake-jwt-server
```

## Ğ•ÑĞ»Ğ¸ Ğ½Ğµ ÑƒÑĞ¿ĞµĞ²Ğ°ĞµĞ¼ Education Ğº 28.12

```
âŒ ĞŸÑ€Ğ¾Ğ¿ÑƒÑĞºĞ°ĞµĞ¼:
  â€¢ RabbitMQ (Ğ¾ÑÑ‚Ğ°Ğ²Ğ»ÑĞµĞ¼ InMemory)
  â€¢ ZITADEL (Ğ¾ÑÑ‚Ğ°Ğ²Ğ»ÑĞµĞ¼ fake-jwt-server)
  â€¢ Circuit Breaker

âœ… ĞĞ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾:
  â€¢ 2-3 Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½Ñ‹Ñ… ÑĞµÑ€Ğ²Ğ¸ÑĞ°
  â€¢ API Gateway
  â€¢ Docker Compose multi-service
```

---

# ğŸ“‹ Ğ•Ğ¶ĞµĞ´Ğ½ĞµĞ²Ğ½Ñ‹Ğ¹ Ñ‚Ñ€ĞµĞºĞ¸Ğ½Ğ³

## Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚ ĞµĞ¶ĞµĞ´Ğ½ĞµĞ²Ğ½Ğ¾Ğ³Ğ¾ Ğ¾Ñ‚Ñ‡Ñ‘Ñ‚Ğ°

```markdown
## Ğ”ĞµĞ½ÑŒ N (Ğ´Ğ°Ñ‚Ğ°)

### Ğ¡Ğ´ĞµĞ»Ğ°Ğ½Ğ¾
- [ ] Ğ—Ğ°Ğ´Ğ°Ñ‡Ğ° 1
- [ ] Ğ—Ğ°Ğ´Ğ°Ñ‡Ğ° 2

### ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ñ‹
- ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ° 1 â†’ Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ

### ĞŸĞ»Ğ°Ğ½ Ğ½Ğ° Ğ·Ğ°Ğ²Ñ‚Ñ€Ğ°
- Ğ—Ğ°Ğ´Ğ°Ñ‡Ğ° 1
- Ğ—Ğ°Ğ´Ğ°Ñ‡Ğ° 2
```

---

# ğŸ¯ ĞšÑ€Ğ¸Ñ‚ĞµÑ€Ğ¸Ğ¸ ÑƒÑĞ¿ĞµÑ…Ğ°

## MVP Success Criteria

```
âœ… docker compose up -d  â†’ Ğ²ÑĞµ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ñ‹ running
âœ… curl /health         â†’ 200 OK
âœ… curl /auth/login     â†’ JWT Ñ‚Ğ¾ĞºĞµĞ½
âœ… curl /portfolio      â†’ Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ğ¸
âœ… curl /quotes         â†’ ĞºĞ¾Ñ‚Ğ¸Ñ€Ğ¾Ğ²ĞºĞ¸
âœ… curl POST /orders    â†’ Ğ¾Ñ€Ğ´ĞµÑ€ ÑĞ¾Ğ·Ğ´Ğ°Ğ½
âœ… Web UI              â†’ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ° Ğ¾Ñ‚ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ÑÑ
```

## Education Success Criteria

```
âœ… 3+ Docker ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ° (ÑĞµÑ€Ğ²Ğ¸ÑÑ‹)
âœ… API Gateway Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚
âœ… RabbitMQ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ñ‘Ñ‚ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ
âœ… ĞšĞ°Ğ¶Ğ´Ñ‹Ğ¹ ÑĞµÑ€Ğ²Ğ¸Ñ ÑĞ²Ğ¾Ñ Ğ‘Ğ”
âœ… X-Trace-ID Ğ¿Ñ€Ğ¾Ñ…Ğ¾Ğ´Ğ¸Ñ‚ Ñ‡ĞµÑ€ĞµĞ· Ğ²ÑĞµ ÑĞµÑ€Ğ²Ğ¸ÑÑ‹
```

---

*Roadmap v5.0*  
*Ğ”Ğ°Ñ‚Ğ°: 16 Ğ´ĞµĞºĞ°Ğ±Ñ€Ñ 2025*
